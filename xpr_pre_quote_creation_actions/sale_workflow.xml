<?xml version="1.0" encoding="utf-8"?>
<openerp>
       	<data>
		<record id="wkf_sale" model="workflow">
			<field name="name">sale.order.check_manager_approval_needed</field>
			<field name="osv">sale.order</field>
			<field name="on_create" eval="False" />
		</record>

		<record model="workflow.activity" id="act_pre_quote_creation_actions">
			<field name="name">Pre Quote Creation Actions</field>
			<field name="wkf_id" ref="sale.wkf_sale"/>
			<field name="kind">dummy</field>
		</record>

		<record model="workflow.activity" id="act_check_manager_approval_needed">
			<field name="name">Check Manager Approval Needed</field>
			<field name="wkf_id" ref="sale.wkf_sale"/>
			<field name="kind">subflow</field>
			<field name="subflow_id" search="[('name','=','sale.order.check_manager_approval_needed')]"/>
		</record>

		<record model="workflow.activity" id="act_manager_approval_needed">
			<field name="name">Manager Approval Needed</field>
			<field name="wkf_id" ref="sale.wkf_sale"/>
			<field name="kind">dummy</field>
		</record>

		<record model="workflow.activity" id="act_manager_approved">
			<field name="name">Manager Approved</field>
			<field name="wkf_id" ref="sale.wkf_sale"/>
			<field name="kind">dummy</field>
		</record>

		 <record id="trans_draft_act_pre_quote_creation_actions" model="workflow.transition">
			 <field name="act_from" ref="sale.act_draft"/>
			 <field name="act_to" ref="act_pre_quote_creation_actions"/>
			 <field name="condition">True</field>
		 </record>

		 <record id="trans_pre_quote_creation_actions_check_approval_needed" model="workflow.transition">
			 <field name="act_from" ref="act_pre_quote_creation_actions"/>
			 <field name="act_to" ref="act_check_manager_approval_needed"/>
			 <field name="condition">True</field>
		 </record>

		 <record id="trans_check_approval_needed_need_approval" model="workflow.transition">
			 <field name="act_from" ref="act_check_manager_approval_needed"/>
			 <field name="act_to" ref="act_manager_approval_needed"/>
			 <field name="signal">subflow.manager_approval_needed</field>
		 </record>

		 <record id="trans_check_approval_needed_approved" model="workflow.transition">
			 <field name="act_from" ref="act_check_manager_approval_needed"/>
			 <field name="act_to" ref="act_manager_approved"/>
			 <field name="signal">subflow.manager_approved</field>
		 </record>
	</data>
</openerp>
